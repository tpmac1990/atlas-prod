(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{107:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(2),o=a(1),i=a(99),u=a(101);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var m=function(e){var t=Object(c.b)(),a=e.datagroup,n=e.name;return Object(r.useEffect)((function(){t(Object(o.e)({datagroup:a,name:n}))}),[]),null},f=function(e){var t=Object(c.b)(),a=e.data,l=e.values,d=e.dropdown_dict,m=e.header,f=e.datagroup,b=e.has_input,p=e.is_large,v=s(Object(r.useState)(!1),2),y=v[0],g=v[1],O=d.name,j=d.unique_grp,E=Object(c.c)((function(e){return e})).dropdown,h=E.unique_multi_groups,w=h.error,S=h.names,_=Object(r.useRef)(!0);Object(r.useEffect)((function(){w.name===O&&(g(!1),t(Object(o.qb)({message:"Values need to be unique across all ".concat(S[O]," groups "),type:"error",style:"error-fixed-edit"})))}),[w]),Object(r.useEffect)((function(){_.current?(_.current=!1,j&&t(Object(o.xb)({name:O,group:j}))):j&&t(Object(o.f)({group:j,values:Object.keys(a).map((function(e){return a[e].label}))}))}),[a]),Object(r.useEffect)((function(){if(void 0!==E[O]){var e=E[O].selected;if(void 0!==e&&""!==e.key){var r=e.key,n=e.label;r in a||(t(Object(o.c)({name:O,datagroup:f,key:r,label:n})),g(!1)),g(!1)}}}),[E]),Object(r.useEffect)((function(){var e={},a=d.key,r=d.label;l.forEach((function(t){e[t[a]]={id:t[a],label:t[r],current:!0,remove:!1,add:!1}})),t(Object(o.db)({data:e,name:O,datagroup:f}))}),[]);var k=function(e){var a=e.target.id;t(Object(o.H)({name:O,datagroup:f,key:a}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h5",null,m),n.a.createElement("div",{className:"edit-table-c1"},n.a.createElement("table",{className:"table"},n.a.createElement("tbody",null,Object.keys(a).map((function(e){var t=a[e].id;return a[e].remove?null:n.a.createElement("tr",{key:t,className:"row"},n.a.createElement("td",{className:"col-10"},a[e].label),n.a.createElement("td",{className:"col-2"},n.a.createElement("span",{id:t,onClick:k},p?"Remove":"x")))})))),n.a.createElement("div",{className:"edit-add",onClick:function(){return g((function(e){return!e}))}},n.a.createElement("span",null,"Add +")),y&&n.a.createElement("div",{className:"add-select"},b?n.a.createElement(u.a,{dict:d}):n.a.createElement(i.a,{dict:d}))))};t.a=function(e){var t=e.dropdown_dict,a=e.datagroup,r=t.name,o=Object(c.c)((function(e){return e})).dataEdit[a][r];return void 0===o?n.a.createElement(m,{datagroup:a,name:r}):n.a.createElement(f,l({},e,{data:o}))}},108:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(2),o=a(1),i=a(99);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var b=function(e){var t=Object(c.b)(),a=e.datagroup,n=e.name;return Object(r.useEffect)((function(){t(Object(o.e)({datagroup:a,name:n}))}),[]),null},p=function(e){var t=Object(c.b)(),a=e.data,u=e.values,l=e.dropdown_dict,d=e.header,f=e.datagroup,b=m(Object(r.useState)(!1),2),p=b[0],v=b[1],y=l.name,g=Object(c.c)((function(e){return e})).dropdown,O=function(e){var t={};return Object.keys(e).forEach((function(a){t[a]=s(s({},e[a]),{},{remove:!0})})),t};Object(r.useEffect)((function(){if(void 0!==g[y]){var e=g[y].selected;if(void 0!==e&&""!==e.key){var r=e.key,n=e.label;if(r in a)if(a[r].remove){var c;(c=O(a))[r]={id:r,label:n,current:c[r].current,remove:!1,add:c[r].add},t(Object(o.db)({data:c,name:y,datagroup:f})),v(!1)}else a[r].remove?console.log("ItemsManyDropdownAddMulti component. uncaught"):v(!1);else(c=O(a))[r]={id:r,label:n,current:!1,remove:!1,add:!0},t(Object(o.db)({data:c,name:y,datagroup:f})),v(!1)}}}),[g]),Object(r.useEffect)((function(){var e={};e[u[l.key]]={id:u[l.key],label:u[l.label],current:!0,remove:!1,add:!1},t(Object(o.db)({data:e,name:y,datagroup:f}))}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("h5",null,d),n.a.createElement("div",{className:"edit-table-c1"},n.a.createElement("table",{className:"table"},n.a.createElement("tbody",null,Object.keys(a).map((function(e){var t=a[e].id;return a[e].remove?null:n.a.createElement("tr",{key:t,className:"row"},n.a.createElement("td",{className:"col-12"},a[e].label))})))),n.a.createElement("div",{className:"edit-add",onClick:function(){return v((function(e){return!e}))}},n.a.createElement("span",null,"Change +")),p&&n.a.createElement("div",{className:"add-select"},n.a.createElement(i.a,{dict:l}))))};t.a=function(e){var t=e.dropdown_dict,a=e.datagroup,r=t.name,o=Object(c.c)((function(e){return e})).dataEdit[a][r];return void 0===o?n.a.createElement(b,{datagroup:a,name:r}):n.a.createElement(p,u({},e,{data:o}))}},166:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(2),o=a(1),i=a(107),u=a(108),l=a(109),s=a(110),d=a(36),m=a(9),f=a(111);t.default=function(e){var t=e.match.params.id,a=Object(c.b)(),b=Object(m.g)().url,p=Object(m.f)(),v=Object(c.c)((function(e){return e.detailSelection})).site,y=Object(c.c)((function(e){return e.dataEdit})),g=y.sites,O=y.site_result,j=f.b.groups,E=f.b.columns,h=j.nameSelect,w=j.occTypeSelect,S=j.statusSelect,_=j.geoProvinceSelect,k=j.majorMaterialSelect,N=j.minorMaterialSelect,A=j.sizeSelect,P=j.oidSelect,M=Object(d.a)().viewportStyle,I=["tv","desktop","laptop"].includes(M);Object(r.useEffect)((function(){a(Object(o.u)(t))}),[t]);return Object(r.useEffect)((function(){var e=O.success,t=O.msg;e&&(p.push(b.replace("edit/","")),a(Object(o.I)("site_result")),window.scrollTo(0,0),a(Object(o.qb)({message:"Site ".concat(t," updated successfully"),type:"success",style:"success-edit"})))}),[O]),null===v?null:n.a.createElement("div",{className:"edit-page"},n.a.createElement(s.a,{title:v.ind,index:v.ind}),n.a.createElement("form",null,n.a.createElement(i.a,{is_large:I,header:"Site Names",datagroup:"sites",values:v.name,has_input:!0,dropdown_dict:h}),n.a.createElement(i.a,{is_large:I,header:"Site Type",datagroup:"sites",values:v.typ,has_input:!1,dropdown_dict:w}),n.a.createElement(u.a,{header:"Site Status",datagroup:"sites",values:v.status,dropdown_dict:S}),n.a.createElement(i.a,{is_large:I,header:"Geological Provinces",datagroup:"sites",values:v.geoprovince,has_input:!1,dropdown_dict:_}),n.a.createElement(i.a,{is_large:I,header:"Major Materials",datagroup:"sites",values:v.majmat,has_input:!1,dropdown_dict:k}),n.a.createElement(i.a,{is_large:I,header:"Minor Materials",datagroup:"sites",values:v.minmat,has_input:!1,dropdown_dict:N}),n.a.createElement(u.a,{header:"Site Size",datagroup:"sites",values:v.size,dropdown_dict:A}),n.a.createElement(i.a,{is_large:I,header:"Site Related ID's",datagroup:"sites",values:v.oid,has_input:!0,dropdown_dict:P}),n.a.createElement("button",{type:"submit",className:"btn-c5 edit-submit-btn",onClick:function(e){e.preventDefault();var r=Object(l.a)(g,v,E,t);r.changes?a(Object(o.F)({id:t,dict:r,endpoint:"site"})):(window.scrollTo(0,0),a(Object(o.qb)({message:"No changes were made",type:"warning",style:"warning-edit"})))}},"Submit")))}}}]);